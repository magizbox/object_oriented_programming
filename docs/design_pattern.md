# Design Patterns

<img src="https://lh3.googleusercontent.com/ryQcLuqMttn7zQOL1rotVDXA5QmEnqdAzKdYoAsa0EFXujeMVv2A=w939-h635-no" alt="" />

<h2>Creational design patterns</h2>

These design patterns are all about class instantiation. This pattern can be further divided into class-creation patterns and object-creational patterns. While class-creation patterns use inheritance effectively in the instantiation process, object-creation patterns use delegation effectively to get the job done.

<a href="http://magizbox.com/index.php/cs/object-oriented-programming-a-k-a-oop/design-patterns/abstract-factory/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/mSSUJTiAZ9LzTb3Zad1t3l_AbGULfSrHa_DIiy4gE1zwWqFJFU4A=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/builder-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/T84QoNCT2y3bVmUEaMHR0X3vRkzgl_w6oPjD_rvNoTIlYkbF3amP=w492-h320-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/factory-method/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/Tc3cnC1j50mQ22eqC8V9FWFha5mE8KLcad4hGKle7Aj2VWPf8T2r=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/pool/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/SC5vvfTNMVsYyZCyY9jwxGpGBxAdiH0KP50feYp1lMDq7AZ7r5MH=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/prototype-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/Y6Ue7khpwUGDxeT1JBr82l4sgIgufJenvL7VxEJ9z_ZHZ29_VAgx=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/singleton-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/sPezrA7W-ft-SviB8FgUu0T3SwbkNYbujbOUJ93mpH0QAiz8JI50=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<h2>Structural design patterns</h2>

These design patterns are all about Class and Object composition. Structural class-creation patterns use inheritance to compose interfaces. Structural object-patterns define ways to compose objects to obtain new functionality.

<a href="https://datayo.wordpress.com/2015/09/25/adapter-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/hg8I84gmz_C00Rpvi_9gTUHIRt_EsD89YaVdaIG1jaIPkr3E__45=w492-h320-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/bride-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/tWcBHk2-1s3sn2HQkbenOyIPVqxRwwxcufhyHW9hTuf7fhPM7l7j=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/20/composite-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/DU0BIL1d6FrpW7Sf0IBH3H20-jUhmYl6SL_6FpMvx5iAfy4SQZCe=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/decorator-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/hHIbD-xBnhEWvE6XVnDdAIIwsUpRMD2Y0ETXtWLjnlnmw1MXuxls=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/facade-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/jVWnxzkYkmlTRQ-sdz-XgYz8XjS2-IfXeKfq02iT3Q9PhZ1Tp9Ev=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/flyweight-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/e0GL_fuQ9QrfqM6BUyjOkeMrK-oq2IztjGBYUzMHue66TxeYZ-vc=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/sxc2Kjm0HR-TpPDBL77W4jOA2RUY2SwYv7yvjMIeb5nTUQCI7A_Q=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/proxy-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/Ij1vKhpdI_83S353Nq2tEEZZmL4UCK0kMgqvvqz-7yOUUATUgwpy=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<h2>Behavioral design patterns</h2>

These design patterns are all about Class's objects communication. Behavioral patterns are those patterns that are most specifically concerned with communication between objects.

<a href="https://datayo.wordpress.com/2015/09/25/chain-of-responsibility-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/ePSGtppMAyrKsChKXe4c5wb4HRutkF38FnE4OKI7kgvWt8iCeQnY=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/command-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/v0L0izgP9_EEL9C9qGp-wx3P5RxKYUwdFurEdvgBCO9t7EawxyFX=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/interpreter-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/LZGVOIgs1WRbDLLNLI7HaqKBqvaQD2CIBFhZinX47xl6sJbAix9U=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/iterator-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/n3niucRV_qA0PIZC4dMYe7Fw-9JpcYDmkREI0oSDma4baAJWOIo2=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/mediator-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/A45kTml70d7zOEtHIlN3US9PtAs2oNbe38zdj9ckFhIS8HjVN5i2=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/memento-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/SNMK6795pqJSrgOPP_l-z3nyOz6UiJaAy9KbhnrZ9qJSgc80zXT2=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/null-object/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/QLQsFMrn3gQ7DL2t3CnOaxkN5rfixwybHKsFQ26mwIuulFEvmoOe=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="http://magizbox.com/index.php/cs/object-oriented-programming-a-k-a-oop/design-patterns/observer-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/lA4-MoVfUsZ4loZa98BwlPVvAB5n7_aHO7znBSs4Ao20bc2DrfNB=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/state-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/_5-Xdxj-uzeBxDz2DPBlUKx9xFOmw7srtB5Zcx-6Fe0QfANGBCSx=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/strategy-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/YJK_OCOi6JpPV8Qj1ZHc2rX1b67ajPYRPYd_VFzIqvTiWVNxxoyo=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/template-method-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/lX3Ih_WMB2gZ1ECJlYpFE02IqwucJwokaebkOA6CPWfKdTB6xekD=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<a href="https://datayo.wordpress.com/2015/09/25/visitor-pattern/" target="_blank" style="float:left;">
<img src="https://lh3.googleusercontent.com/yFWMLjR3UdfosZ7VzOuo8QRcotnVOut4aqXtLF5F001UXYZaRXAL=w724-h471-no" style="height:120px;margin-left:10px;margin-bottom:15px;float:left;" />
</a>

<h2>Design Pattern Q&amp;A</h2>

<ul>
<li><a href="http://stackoverflow.com/questions/1673841/examples-of-gof-design-patterns-in-javas-core-libraries/2707195#2707195">Examples of GoF Design Patterns in Java's core libraries</a></li>
<li><a href="http://stackoverflow.com/questions/557742/dependency-injection-vs-factory-pattern">Dependency Injection vs Factory Pattern</a></li>
<li><a href="http://stackoverflow.com/questions/3058/what-is-inversion-of-control">What is Inversion of Control?</a></li>
<li><a href="http://stackoverflow.com/questions/137975/what-is-so-bad-about-singletons">What is so bad about singletons?</a></li>
<li><a href="http://stackoverflow.com/questions/1001767/what-is-the-basic-difference-between-factory-and-abstract-factory-patterns">What is the basic difference between Factory and Abstract Factory Patterns?</a></li>
<li><a href="http://stackoverflow.com/questions/328496/when-would-you-use-the-builder-pattern">When would you use the Builder Pattern?</a></li>
<li><a href="http://stackoverflow.com/questions/757743/what-is-the-difference-between-builder-design-pattern-and-factory-design-pattern">What is the difference between Builder Design pattern and Factory Design pattern?</a></li>
<li><a href="http://stackoverflow.com/questions/350404/how-do-the-proxy-decorator-adapter-and-bridge-patterns-differ">How do the Proxy, Decorator, Adapter, and Bridge Patterns differ?</a></li>
</ul>

# Abstract Factory Pattern

<blockquote>
  <strong>Creates an instance of several families of classes</strong>
</blockquote>

<h3>Intuitive <sup id="fnref-1559-1"><a href="#fn-1559-1" rel="footnote">1</a></sup></h3>

<img src="https://upload.wikimedia.org/wikipedia/commons/7/7b/Dresden_Glaeserne_Manufaktur.jpg" alt="" />

<p style="text-align:center;"><small>Volkswagen Transparent Factory in Dresden</small></p>

<h3>What is it? <sup id="fnref-1559-2"><a href="#fn-1559-2" rel="footnote">2</a></sup></h3>

The abstract factory pattern provides a way to encapsulate a group of individual factories that have a common theme without specifying their concrete classes.

In normal usage, the client software creates a concrete implementation of the abstract factory and then uses the generic interface of the factory to create the concrete objects that are part of the theme. The client doesn't know (or care) which concrete objects it gets from each of these internal factories, since it uses only the generic interfaces of their products.

This pattern separates the details of implementation of a set of objects from their general usage and relies on object composition, as object creation is implemented in methods exposed in the factory interface.

<h3>Design</h3>

<img src="http://yuml.me/diagram/scruffy/class/[Client%20%7Bbg:deepskyblue%7D]-%3E[%C2%ABinterface%C2%BB;AbstractFactory%7C+createProductA();+createProductB();%7Bbg:deepskyblue%7D],[Client%20%7Bbg:deepskyblue%7D]-%3E[%C2%ABinterface%C2%BB;AbstractProduct;%7Bbg:deepskyblue%7D],[%C2%ABinterface%C2%BB;AbstractFactory%7C+createProductA();+createProductB();%7Bbg:deepskyblue%7D]%5E-[ConcreteFactory%20%7Bbg:deepskyblue%7D],[%C2%ABinterface%C2%BB;AbstractProduct;%7Bbg:deepskyblue%7D]%5E-[ConcreteProduct%20%7Bbg:deepskyblue%7D]" />

<h3>Example Code</h3>

<a href="https://github.com/datayo/design-pattern/tree/master/src/com/github/designpattern/abstractfactory" target="_blank">
<img src="https://51degrees.com/Portals/0/Images/Icon_Java.png?width=64" />
</a>

<div class="footnotes">
<hr />
<ol>

<li id="fn-1559-1">
<a href="http://pjwstk1ms.blogspot.com/2011/04/most-interesting-factories-in-world.html">The most interesting factories in the world</a>&#160;<a href="#fnref-1559-1" rev="footnote">&#8617;</a>
</li>

<li id="fn-1559-2">
<a href="https://en.wikipedia.org/wiki/Abstract_factory_pattern">Abstract factory pattern</a>&#160;<a href="#fnref-1559-2" rev="footnote">&#8617;</a>
</li>

</ol>
</div>

# Observer Pattern

<h3>Intuitive</h3>

<img src="http://s3.reutersmedia.net/resources/r/?m=02&amp;d=20110127&amp;t=2&amp;i=319244069&amp;w=644&amp;fh=&amp;fw=&amp;ll=&amp;pl=&amp;sq=&amp;r=2011-01-27T204226Z_01_BTRE70Q1LIU00_RTROPTP_0_BRITAIN" alt="" />

<p style="text-align:center;"><small></small></p>

### Definition [^1]

<blockquote>
  The observer pattern is a software design pattern in which an object, called the subject, maintains a list of its dependents, called observers, and notifies them automatically of any state changes, usually by calling one of their methods. It is mainly used to implement distributed event handling systems. The Observer pattern is also a key part in the familiar model–view–controller (MVC) architectural pattern. The observer pattern is implemented in numerous programming libraries and systems, including almost all GUI toolkits.
</blockquote>

### Structure [^2]

<img src="https://lh3.googleusercontent.com/b5HPRRmmaPfsOoiVaWCzP7Z2H-uGBj8xrp5JWpLDihhmsRWfhQhA=w548-h294-no" alt="" />

<code>Subject</code>

<ul>
<li>knows its observers. Any number of Observer objects may observe a subject.</li>
<li>provides an interface for attaching and detaching Observer objects</li>
</ul>

<code>Observer</code>

<ul>
<li>defines an updating interface for objects that should be notified of changes in a subject.</li>
</ul>

<code>ConcreteSubject</code>

<ul>
<li>stores state of interest to ConcreteObserver objects.</li>
<li>sends a notification to its observers when its state changes.</li>
</ul>

<code>ConcreteObserver</code>

<ul>
<li>maintains a reference to a ConcreteSubject object.</li>
<li>stores state that should stay consistent with the subject's.</li>
<li>implements the Observer updating interface to keep its state consistent with the subject's.</li>
</ul>

<h3>Examples</h3>

[**Example 1: Blog Manager Application**](https://github.com/rain1024/design-pattern/blob/master/java/observer/src/Application.java)

In this application, each user is an `Observer`, each blog is a `Subject`. When a blog post a new article (state change), user get an update. When users get update, they update their articles.

[code lang="java"]
Blog sportBlog = new Blog("SPORT");
User user1 = new User("Fan1");
User user2 = new User("Fan2");

sportBlog.attach(user1);
sportBlog.attach(user2);

sportBlog.post(new Article("football"));
sportBlog.post(new Article("swimming"));
user1.getArticles();
user2.getArticles();

sportBlog.detach(user1);`
[/code]

<h3>Real Implementations</h3>

<a href="http://developer.android.com/reference/android/content/BroadcastReceiver.html">Broadcast Receiver</a> [^3] [^4] on Android

### More Articles

* [http://javapapers.com/design-patterns/observer-design-pattern/](http://javapapers.com/design-patterns/observer-design-pattern/)

### Comparison

#### Observer/Observable pattern vs Publisher/Subscriber pattern [^5]

* **Observer/Observable** pattern is mostly implemented in a **synchronous** way, i.e. the observable calls the appropriate method of all its observers when some event occurs. The **Publisher/Subscriber** pattern is mostly implemented in an **asynchronous** way (using message queue).
* In the **Observer/Observable** pattern, **the observers are aware of the observable**. Whereas, in **Publisher/Subscriber**, publishers and subscribers **don't need to know each other**. They simply communicate with the help of message queues.

[^1]: <a href="https://en.wikipedia.org/wiki/Observer_pattern">Observer pattern</a>
[^2]: <a href="http://developer.android.com/reference/android/content/BroadcastReceiver.html">Broadcast Receiver</a>
[^3]: <a href="http://www.amazon.com/Design-Patterns-Elements-Reusable-Object-Oriented-ebook/dp/B000SEIBB8">Design Patterns: Elements of Reusable Object-Oriented Software</a>
[^4]: <a href="http://stackoverflow.com/a/13906751/772391">Which design patterns are used on Android?</a>
[^5]: [stackoverflow, Difference between Observer, Pub/Sub, and Data Binding](http://stackoverflow.com/a/15596131/772391)

